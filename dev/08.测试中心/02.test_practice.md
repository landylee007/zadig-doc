---
title: 测试实践
date: 2022-04-11 21:52:18
permalink: /dev/test/practice

---

下面以性能测试和功能测试为例，提供不同测试场景在 Zadig 上的实践，以供参考。

## 性能自动化测试

### 测试配置

压力测试工具为 jMeter，点击[链接](https://github.com/koderover/zadig/tree/main/examples/jMeter-demo)查看测试用例源码。性能自动化测试配置如下：

![性能测试实践](./_images/jmeter_test_demo_1.png)
![性能测试实践](./_images/jmeter_test_demo_2.png)

说明：
- 配置测试执行环境：本例中依赖的软件包分别为 `jMeter 5.4.3` 和 `java 1.12.0.1`，软件包管理可参考：[软件包配置](/dev/settings/app/)
- 配置代码信息：上述测试用例源码所在的代码库（可 fork 至自己的仓库后在 Zadig 中集成即可，代码库集成可参考：[代码集成](/dev/settings/codehost/github/)）
- 配置测试脚本：本例中测试脚本如下：
``` bash
#!/bin/bash
set -ex
cd zadig/examples/jMeter-demo/
jmeter -n -t demo.jmx -l demo.jtl # run test
if [ -e reports ]; then
    rm -rf reports
fi
jmeter -g demo.jtl -o reports # generate reports
```
- 高级配置：配置测试结果导出，填写性能测试报告的目录，本例中为 `$WORKSPACE/zadig/examples/jMeter-demo/reports`

### 性能测试报告

![性能测试实践](./_images/jmeter_test_demo_3.png)

待测试运行完毕后点击下载性能测试报告，可查看性能测试结果，对报告做解读和分析。

![性能测试实践](./_images/jmeter_test_demo_5.png)
![性能测试实践](./_images/jmeter_test_demo_4.png)

## 功能自动化测试

### 测试配置

技术栈为 Golang，测试框架为 [ginkgo](https://github.com/onsi/ginkgo) + [gomega](https://github.com/onsi/gomega)，点击[链接](https://github.com/koderover/zadig/tree/main/examples/test-demo/test)查看测试用例源码。功能自动化测试配置如下：

![功能测试实践](./_images/ginkgo_test_demo_1.png)
![功能测试实践](./_images/ginkgo_test_demo_2.png)

说明：
- 配置测试执行环境：本例中对 Golang 的版本有要求，可配置 `go 1.16.13`，软件包管理可参考：[软件包配置](/dev/settings/app/)
- 配置代码信息：上述测试用例源码所在的代码库（可 fork 至自己的仓库后在 Zadig 中集成即可，代码库集成可参考：[代码集成](/dev/settings/codehost/github/)）
- 配置测试脚本：本例中测试脚本如下：
``` bash
#!/bin/bash
set -ex
export GOPROXY=https://goproxy.cn,direct
go get github.com/onsi/ginkgo/v2/ginkgo
go get github.com/onsi/gomega/...
cd zadig/examples/test-demo/test
ginkgo -v --junit-report=out.xml # 运行测试用例并产出 Junit xml 格式的测试报告
```
- 测试报告配置：配置 Junit xml 格式的测试报告目录，本例中为 `$WORKSPACE/zadig/examples/test-demo/test`

### 查看测试报告

![功能测试实践](./_images/ginkgo_test_demo_3.png)

待测试运行完毕后点击查看测试报告，可查看每一条自动化用例的执行详情，对报告做分析。

![功能测试实践](./_images/ginkgo_test_demo_4.png)

<!-- ### UI 自动化

TODO -->